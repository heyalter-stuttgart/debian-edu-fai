2024-06-07 Mike Gabriel

        * release 2024.06.07.1 (HEAD -> master, tag: 2024.06.07.1)
        * bin/debian-edu-fai_updateconfigspace: Fix is-inside-(Git-)work-tree
          check. (0502fceb)

2024-02-01 Mike Gabriel

        * upload to unstable (debian/2024.02.01.2) (eea11f14) (tag:
          2024.02.01.2)
        * fai/config/package_config/EDU: Fix package name (systemd-timerd ->
          systemd-timesyncd). (7cf5da4f)
        * release 2024.02.01.1 (11e8f8c4) (tag: 2024.02.01.1)
        * fai/config/package_config/EDU: Assure installation of
          systemd-timerd. (44ab6d4f)

2024-01-10 Mike Gabriel

        * fai/config/_obsolete-files.d/debian-edu-fai.removed: Add
          class/90_fai.profile. (70779279)
        * fai/config/disk_config/LVM_EDU_*_LEGACY: Add BIOS Legacy partition
          tables again. Some old UEFIs/BIOSes can't handle BIOS
          legacy on GPT partition tables. (ee779144)
        * fai/config/disk_config/LVM_EDU*: Drop /dev/vg_system/usr volume.
          Causes conflicts with usr-merge initiative in Debian.
          (e47fbedd)
        * fai/config/class/40-parse-profiles.sh: Enlarge menu window width by
          5 chars. (671a73df)

2023-11-19 Mike Gabriel

        * release 2023.11.19.1 (4e6310ac) (tag: 2023.11.19.1)
        * bin/debian-edu-router-fai_updateconfigspace: Fix quoting typo in
          git command. (bec92b63)

2023-10-03 Mike Gabriel

        * release 2023.10.03.1 (b0fe4d53) (tag: 2023.10.03.1)
        * fai/config/disk_config: Enlarge system partitions generously, so
          that system installation don't fail because of low-disk
          space. (a04cb5ac)

2023-10-02 Mike Gabriel

        * fai/config/disk_config/LVM_EDU_MINIMAL: Fix LV name (home -> srv).
          (a5a74485)

2023-09-29 Mike Gabriel

        * fai/config/scripts/*/20-update-security-group-conf: Don't fail
          script if not on DEBIAN_11. (91545602)

2023-09-27 Mike Gabriel

        * fai/config/_obsolete-files.d/debian-edu-fai.removed: Add .asc files
          which got replaced by .gpg files. (dbdf2c7f)

2023-09-26 Mike Gabriel

        * upload to unstable (debian/2023.09.26.3) (85527cd9) (tag:
          2023.09.26.3)
        * debian/control: Move memtest86+ (for archs amd64 + i386) to
          Recommends: field as we can't have arch-specific
          dependencies in arch-all bin:pkgs. (Closes: #1052957).
          (d3d0e7c6)

2023-09-25 Mike Gabriel

        * release 2023.09.26.2 (ff9ab9de) (tag: 2023.09.26.2)
        * debian/control: Fix installability on non-x86 architectures. People
          should at least be able to test those platforms.
          (63b48905)
        * release 2023.09.26.1 (3d4cefc2) (tag: 2023.09.26.1)

2023-09-23 Mike Gabriel

        * fai/config/hooks/updatebase.DEBIAN: Debian Edu sets up http proxy
          configuration via 03debian-edu-config. To override this
          (which we want), we need to move 02proxy to 04proxy in
          /etc/apt/apt.conf.d/. (2a0242aa)
        * bin/debian-edu-fai_install: Promote http_proxy settings into FAI
          config space and set APTPROXY variable accordingly.
          (3926debb)

2023-09-20 Guido Berhoerster

        * Improve OS detection for loading profiles (93aff936)

2023-09-19 Mike Gabriel

        * ChangeLog: update post-release (417ffdd4)
        * release 2023.09.19.1 (2a9e6988) (tag: 2023.09.19.1)

2023-09-19 Guido Berh√∂rster

        * fai/config/class/40-parse-profiles.sh: Adjust OS_VERSION_MAJOR
          population. (f1bbf19e)

2023-09-14 Mike Gabriel

        * fai/config/class: Rename / add profile files, now OS + version
          specific. (2d0a394b)
        * fai/config/class: Add OS detection code to 40-parse-profiles.sh to
          support OS + version specific installation profiles
          (detect from FAI nfsroot OS + version). (666aa66e)
        * bin/debian-edu-fai_updateconfigspace: More reliably detect if we
          are in a Git working copy. (5a319c03)

2022-09-17 Mike Gabriel

        * bin/debian-edu-fai_install: Fix config file's name in comment.
          (73b8ac40)

2022-09-18 Mike Gabriel

        * APT sources: Use {%apt_cdn%} variable instead of hard-coded
          servername. (c4aa9a93)

2022-01-04 Mike Gabriel

        * files/etc/apt/sources.list.d/fai-mirror.list/FAI_MIRROR: Use more
          generic mirror (path) URL. (48ed9a5d)

2022-09-18 Mike Gabriel

        * {bin/debian-edu-fai_install,fai/config/class/DEBIAN.var.in}: Don't
          use @mirrorurl@, use internally derived @apt_cdn@ variable
          instead. (f2a43df8)

2022-09-17 Mike Gabriel

        * {bin/debian-edu-fai_install,fai/config/class/DEBIAN.var.in}:
          Propagate mirrorurl from debian-edu-fai.conf into FAI
          config space. (fb9b1ba9)

2023-09-13 Mike Gabriel

        * ChangeLog: update post-release (59f82a75)
        * release 2023.09.13.1 (1f147f5c) (tag: 2023.09.13.1)

2023-09-11 Guido Berhoerster

        * Replace nullmailer with exim4 (0cc6fe48)

2023-09-09 Mike Gabriel

        * upload to unstable (debian/2023.09.09.1) (df2b1e80) (tag:
          2023.09.09.1)

2023-09-08 Guido Berhoerster

        * Do not append the hostname to /etc/mailname (4c9e66b1)
        * Fix nullmailer configuration (92232827)

2023-09-07 Mike Gabriel

        * release 2023.09.07.1 (92ddbdd2) (tag: 2023.09.07.1)
        * lintian: Override uses-dpkg-database-directly and
          openpgp-file-has-implementation-specific-extension for
          given reasons. (253caaff)
        * debian/copyright: Update copyright attributions. (21043867)
        * debian/control: Bump Standards-Version: to 4.6.2. No changes
          needed. (7ecf9f0c)
        * chmod a+x bin/debian-edu-fai_updateconfigspace (7ab10aaa)
        * {README.md,conf/debian-edu/debian-edu-fai.conf}: Adjust files to
          renaming of debian-edu-fai_install script (only in docs or
          comments). (8d4d8314)
        * README.md: Typo fix. (c6592790)

2023-09-05 Guido Berhoerster

        * Replace fetch-ldap-cert script usage with fetch-rootca-cert
          (4938961c)
        * Rename bin/debian-edu-faiinstall to bin/debian-edu-fai_install for
          consistency (094a2f00)

2023-09-05 Mike Gabriel

        * bin/debian-edu-faiinstall: Mount /proc and /sys in nfsroot
          (f1ae3f87)
        * bin/debian-edu-router-faiinstall: Drop support for Debian versions
          older than bullseye (6b2eb0bc)

2023-09-04 Mike Gabriel

        * bin/debian-edu-faiinstall: Echo headlines to show where we are in
          the script (889a6ce9)
        * bin/debian-edu-faiinstall: Manage config space with ucf (c1f2924f)

2023-09-04 Guido Berhoerster

        * Ensure debian-edu-fai.conf is not world-readable (0b635dd5)

2023-08-31 Guido Berhoerster

        * Change instructions to emphasize the need for first time
          configuration (bcc14195)

2023-08-25 Guido Berhoerster

        * Update motd for bookworm (ae53ac0a)
        * Add note about syntax to configuration (39eaabb4)

2023-08-24 Guido Berhoerster

        * Recommend the use of yescrypt password hashes (30c32edd)
        * Add primary group for the fai user (e70b9d95)
        * Fix instructions in README.md and
          /etc/debian-edu/debian-edu-fai.conf (701d3794)
        * Disable apt proxy by default (0fc425f5)
        * Ensure parent of target directory exists before copying FAI config
          space (d075d69d)
        * Switch to installing bookworm (80deeb58)

2023-08-23 Guido Berhoerster

        * Add some documentation about NFS exports to README.md (7b19c84a)
        * Unset TMPDIR when invoking fai-make-nfsroot (417b7230)
        * Add explicit dependency on memtest86+ (eb0fb9f1)
        * Add support for memtest86+ 6 (9d091178)
        * Use non-free-firmware component on bookworm and later (9f8a332a)

2023-09-06 Guido Berhoerster

        * Actually install /etc/security/group.conf on bullseye (c9af1e8d)

2023-05-16 Mike Gabriel

        * release 2023.05.16.1 (7b3f31c8) (tag: 2023.05.16.1)
        * debian/postrm: Ignore failures during execution of
          deluser/delgroup: (Closes: #1035292). (bee8be2e)

2022-09-17 Mike Gabriel

        * bin/debian-edu-faiinstall: Make sure FAI_CONFIGDIR_REAL is set
          before it is accessed. (9d8fba39)

2022-09-16 Mike Gabriel

        * release debian/2022.04.14.1 (9b873278) (tag: 2022.04.14.1)
        * debian/control: Add Rules-Requires-Root: field and set it to 'no'.
          (6593c3e8)
        * debian/control: Bump Standards-Version: to 4.6.1. No changes
          needed. (3c7a20e9)

2022-04-14 Mike Gabriel

        * fai/config/scripts/GRUB_EFI/10-setup: Explicitly set --bootnext
          entry to 0000 after grub-install. (489b4c4e)

2022-04-08 Mike Gabriel

        * fai/config/scripts/GRUB_EFI/10-setup: Add EFI boot manager wipe for
          the Dell Venue 8 Pro tablet series. (386ecab6)
        * fai/config/scripts/GRUB_EFI/10-setup: Use backquotes, make Midnight
          Commanders shell syntax highlighter happier. (6cdbb484)
        * fai/config/scripts/GRUB_EFI/10-setup: Use <tab> for indentations.
          (59c2b9fe)

2022-03-04 Mike Gabriel

        * bin/debian-edu-faiinstall: Drop unused $gtkvideo variable.
          (b2d9c647)

2022-03-03 Mike Gabriel

        * bin/debian-edu-faiinstall: Adjust path in comment. (53ff6094)
        * bin/debian-edu-faiinstall: Adjust defaults for NFSROOT and TFTPROOT
          according to debian-edu-fai.conf. (bc51c43f)
        * bin/debian-edu-faiinstall: Drop duplicate value defaults for
          wifi_essid and wifi_passphrase. (6471b83a)
        * debian/maintscript: Rename /etc/debian-edu/faiinstall.conf to
          /etc/debian-edu/debian-edu-fai.conf. (f171f0d7)
        * Rename faiinstall.conf to debian-edu-fai.conf. (52ea327d)
        * conf/debian-edu/fai/debian-edu-fai.TEMPLATE/nfsroot.conf.in: Adjust
          paths of TFTPROOT and NFSROOT. More properly use our own
          namespace. (9ef82d61)
        * conf/debian-edu/fai/debian-edu-fai.TEMPLATE/fai.conf.in: Typo fix.
          (d1db5546)

2022-02-22 Mike Gabriel

        * release debian/2022.02.22.1 (b911c856) (tag: 2022.02.22.1)
        * debian/postinst: Fix add user call, add user account name (which
          was obviously missing). (82d6f586)

2022-02-15 Mike Gabriel

        * fai/config/class/{10-*,20-*}: Update from upstream FAI config
          space. (2f96c88b)
        * fai/config/scripts/EDU/50-cups-browsing: Assure that
          CreateRemoteCUPSPrinterQueues is set to 'Yes'. (f5595de7)
        * Revert "fai/config/scripts/EDU/50-cups-browsing: Assure that
          CreateRemoteCUPSPrinterQueues is set to 'Yes'." (bcc64cad)
        * fai/config/scripts/EDU/50-cups-browsing: Assure that
          CreateRemoteCUPSPrinterQueues is set to 'Yes'. (c07b8a4e)

2022-02-10 Mike Gabriel

        * fai/config/basefiles/mk-basefile: Drop file. Not needed here.
          (81d4c8b6)

2022-02-09 Mike Gabriel

        * release 2022.02.09.1 (7078eef8) (tag: 2022.02.09.1)
        * fai/config/package_config/STANDARD: python{,-minimal} are virtual,
          let's use python3{,-minimal} instead. (a97eaac3)
        * bin/debian-edu-faiinstall: Fix school_tag here, too. (6745dee0)
        * bin/debian-edu-faiinstall: Obviously 'test -d' is true for symlinks
          that point to a directory. In that case, we need to be
          more precise. (351eef6e)

2022-02-04 Mike Gabriel

        * bin/debian-edu-faiinstall: Typo fix for previous commit. (21ed767f)
        * bin/debian-edu-faiinstall: Fix script failure if /srv/tftp/ltsp
          does not exist. (5618ae05)

2022-01-31 Mike Gabriel

        * release 2022.01.31.1 (76f787b6) (tag: 2022.01.31.1)
        * debian/control: Move from R: to D: adduser, fai-server, ipxe.
          (0a93d800)
        * fai/config/files/etc/security/group.conf/: Use same group.conf for
          the WORKSTATION and ROAMING_WORKSTATION class. Duplicate
          that file. (261bf68e)
        * debian/copyright: Update copyright attributions. (a6c60522)
        * debian/control: Bump Standards-Version: to 4.6.0, bump DH compat
          level to version 13. (5c225f1c)
        * debian/control: Add D: adduser. (1c494d3c)
        * debian/{postinst,postrm}: Create 'fai' system account during
          pkg:postinst. (9f7b2c59)
        * debian/install: Adjust DH install. (a758a5bd)
        * README.md: Initial version of a short README explaining how to set
          up debian-edu-fai. (5f28a6cd)

2022-01-27 Mike Gabriel

        * bin/debian-edu-faiinstall: Create .ipxe file as ltsp.ipxe first,
          then create a symlink 'debian-edu-fai.ipxe' to reflect
          that this is not LTSP but FAI. (1598c141)
        * bin/debian-edu-faiinstall: Adjust installation of TFTP
          configuration files. Place files into /srv/tftp/ltsp to
          match Debian Edu 11 LDAP/DHCP settings. (d6a93381)

2022-01-11 Mike Gabriel

        * fai/config/files/etc/security/: Ship PAM group.conf for WORKSTATION
          class. LDAP users should be members of several system
          groups on networked WORKSTATIONs. (929a8508)
        * fai/config/class: Rename debian-edu.profile and start the filename
          with z<nn>_... Also split out FAI Inventory and FAI
          Sysinfo. (cc852d62)

2022-01-06 Mike Gabriel

        * fai/config/debconf/EDU: Stop using debian-edu-server.crt as
          ldap-cacertfile, use ca-certificates.crt instead.
          (648e9c5d)

2022-01-04 Mike Gabriel

        * contrib/tftp: Drop syslinux based tftp example files, not required
          anymore. (0036d0f1)
        * disk_config/LVM_EDU*_LEGACY: Drop LEGACY partition layouts. Not
          needed anymore. (f16f4e01)
        * class/debian-edu.profile: Fine-tune debian-edu.profile so that it
          fits into the FAI menu dialog box. (2c973f16)
        * class/debian-edu.profile: Rewrite profiles, drop BIOS legacy
          profiles (now covered by GPT partition table layouts that
          can handle UEFI and BIOS installations). (a04a02fa)
        * class/debian-edu.profile: Add 'Debian Edu Minimal' installation
          profile. (634974c1)
        * disk_config/: Add LVM_EDU_MINIMAL partition layout. (c41416b5)
        * .gitignore: Add file. Hide FAIBASE.var.in file. (c125885e)
        * fai/config/scripts/ROAMING_WORKSTATION/80-fix-ldap-access: Use
          Debian Edu's rootCA certificat for connecting to LDAP.
          (4e1a72ff)
        * scripts/*WORKSTATION/10-update-debian-edu-config: Add FIXME
          comment. Needs more investigation. (446b82a5)
        * scripts/EDU/98-drop-fai-aptproxy: Drop script. It is actually quite
          recommendable keeping the FAI proxy (it might be optimized
          for APT package downloading). (fc58f104)
        * scripts/EDU/50-cups-browsing: Adapted to Debian Edu 11, modify
          cups-browsed-debian-edu.conf instead of cups-browsed.conf.
          (35f00a58)
        * hooks/instsoft.EDU: Use http://webcache:3128 for pulling in MS core
          fonts. (76cfdd1d)
        * disk_config/: Enlarge /usr, limit /var to max. 10G for LVM profiles
          without /home. (74269733)
        * Debian Edu profiles: Add support for 'Minimal' installation
          profile. (730836ac)
        * disk_config/: Add LVM_EDU_TABLET_LEGACY, for tablets with BIOS.
          (43bf6ac8)
        * debian/install: Install debian-edu-faiinstall into DEB package.
          (d41bfe6a)
        * debian/install: Install new config files in DEB package. (b2befe30)
        * conf/exports.d/debian-edu-fai.exports: Provide NFS configuration
          for debian-edu-fai. (1495092d)
        * debian/control: Add R: qemu-user-static. (bdeec4b5)
        * conf/debian-edu/fai/debian-edu-fai.TEMPLATE/: Add nfsroot conf
          template for debian-edu-fai(install). (d3d3a83d)
        * conf/debian-edu/faiinstall.conf: Mostly commented out (default)
          config for debian-edu-faiinstall script. (5f46640f)
        * bin/debian-edu-faiinstall: Script for fully automatically deploying
          multiple FAI installer nfsroots on the local school
          network. (f370c80d)

2021-12-23 Mike Gabriel

        * debian/control: Move ipxe and fai-server into Recommends: field.
          (56c2ed5b)
        * fai/config/class/FAIBASE.var.in: Turn file into a configurable
          template file that will/can be populated via
          'debian-edu-faiinstall' script. (25936eb8)

2021-11-01 Mike Gabriel

        * contrib/tftp: Add tftpd configuration. (11a6a0e9)

2021-09-06 Mike Gabriel

        * Debian 11 is stable now, get ready for Debian 12. (8a51fbd1)
        * fai/config/scripts/EDU/40-cfengine-debian-edu-postinstall: Fix
          cf-agent run, the absolute path to the executable has
          changed in Debian 11 (/usr/sbin/ -> /usr/bin/). (17825b30)

2020-10-06 Mike Gabriel

        * fai/config/files/etc/apt/sources.list.d/debian-*.list/NONFREE_11:
          Comment out fai-mirror repos. (71cc9354)
        * fai/config/class/debian-edu.profile: Make
          Edu+Roaming-EFI-Workstation/MATE the default profile.
          (daae1a78)
        * fai/config/debconf/DEBIAN: Re-enable grub-pc seed. (82e8fe09)
        * Get ready for Debian 11. (347a0fbf)
        * fai/config/class/debian-edu.profile: Support BIOS legacy partition
          tables (and offer them via FAI installation menu for MATE
          workstations). (5e4fbe34)
        * fai/config/scripts/LAST/90-show-network-cards: Show hostname in
          network card summary at end-of-installation. (5978f361)

2020-07-08 Mike Gabriel

        * files/etc/apt/sources.list.d/fai-mirror*.list: Add support for
          local FAI mirror. (530c2f2f)
        * scripts/LAST/90-show-network-cards: Script that shows network cards
          (and their MACs at end-of-installation). (49bc5bae)
        * disk_config/: Add LVM_EDU_TABLET disk config. (e9b885d0)
        * config/disk_config/: Switch to GPT partition tables (supporting EFI
          and legacy grub install). (23d8526a)
        * disk_config/LVM_EDU_ROAMING: Add disk config for optimized for
          roaming workstations. (4f342312)
        * class/50-host-classes: Don't set too many default classes. This
          needs to be handled by kernel cmdline or FAI profiles.
          (470124c8)
        * debconf/DEBIAN: Comment out grub-pc pre-seeding. This needs to be
          more device specific. (b230e1c5)
        * debconf/EDU: Don't default to LightDM. This is desktop env
          dependent. (8bdbd93a)
        * config/scripts/EDU/99-proxy-from-wpad: Don't fail, if offline.
          (bbb5dca2)
        * Better EFI bootloader support. (31a0ac75)
        * rebase GNOME (f1c4e14c)
        * package_config/DEBIAN: Add non-free pkg firmware-intel-sound.
          (bd5fffb1)
        * rebase DEBIAN10+11 (96ac2035)
        * class/debian-edu.profile: Target DEBIAN_10 for now. (1af7fdec)
        * Try to update client's time via ntp.intern (aka TJENER). Help's if
          the clock is askew. (3a1d7496)
        * class/debian-edu.profile: Drop untested Xfce variant for now.
          (2eb114c0)
        * Add ROAMING_WORKSTATION support. (dfca9284)
        * files/etc/apt/sources.list/DEBIAN_10 (77349f46)
        * fai/config/class/FAIBASE.var: Set LOGUSER and LOGSERVER. (42457407)
        * fai/config/debconf/GNOME: Enforce LightDM as DM with MATE desktop
          installs. (0b146f24)
        * fai/config/debconf/GNOME: Enforce gdm3 as DM with GNOME desktop
          installs. (acd57a3a)
        * Add support for Debian 11 (aka bullseye). (71ba935e)

2019-11-08 Mike Gabriel

        * fai/config/scripts/EDU/50-cups-browsing: remove debugging code
          (fc718fac)
        * fai/config/scripts/EDU/50-cups-browsing: Force Edu clients to
          minimal CUPS browsing, in order to keep print dialogs
          clean and slim. (See: #944347). (76704dee)

2019-10-03 Mike Gabriel

        * FAI config: well-tested Debian Edu 10 minimal + MATE workstation
          installation (f48ca150)

2019-09-19 Mike Gabriel

        * debian/: Wrap up debian-edu-fai package. (8525a665)
        * initial draft of getting FAI install a Debian Edu system (profile:
          Minimal) (6ecb19ad)
